{erl_opts, [debug_info]}.
{deps, [ { cowboy, ".*"
         , { git,"https://github.com/ninenines/cowboy"
           , {tag, "2.6.3"}}}
       , {jiffy, ".*"
         , { git, "https://github.com/davisp/jiffy"
           , {tag, "0.15.2"}}}
       , {uuid, ".*"
         , {git, "https://github.com/avtobiff/erlang-uuid"
           , {tag, "v0.5.2"}}}
       , {libsodium, ".*"
         , {git, "https://github.com/potatosalad/erlang-libsodium"
           , {tag, "0.0.10"}}}
       , {mochiweb, ".*"
         , {git, "https://github.com/mochi/mochiweb"
           , {tag, "v2.19.0"}}}
       , {mochiweb_xpath, ".*"
         , {git, "https://github.com/retnuh/mochiweb_xpath"
           , {tag, "v1.2.0"}}}

       , {prometheus, ".*"
         , {git, "https://github.com/deadtrickster/prometheus.erl/"
           , {tag, "v4.2.0" }}}
       ]}.

{dialyzer, [ {get_warnings, true}
           , {exclude_apps, [ cowboy
                            , mochiweb
                            , mochiweb_xpath
                            ]}
           ]}.

{relx, [{release, { automate, "0.0.1" },
         [ automate
         , sasl
         , automate_rest_api
         , automate_bot_engine
         , automate_monitor_engine
         , automate_channel_engine
         , automate_service_registry
         , automate_storage
         , automate_stats

         , automate_services_time
         , automate_program_linker
         , automate_service_port_engine
         , automate_services_all

         , automate_configuration
         ]},

        {sys_config, "./config/sys.config"},
        {vm_args, "./config/vm.args"},

        {dev_mode, false},
        {include_erts, true},

        {extended_start_script, true}]
}.

%% {profiles, [ { prod, [{relx, [ {dev_mode, false}
%%                              , {include_erts, true}
%%                              , {sys_config, "./config/sys.config.prod"}
%%                              ]}]
%%              }
%%            , { preview, [{relx, [ {dev_mode, false}
%%                                 , {include_erts, true}
%%                                 , {sys_config, "./config/sys.config.preview"}
%%                                 ]}]
%%              }
%%            , { test, [{relx, [ {dev_mode, true}
%%                              , {include_erts, true}
%%                              , {sys_config, "./config/sys.config"}
%%                              ]}]
%%              }
%%            ]
%% }.
